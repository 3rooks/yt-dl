<div id="download-container" class="hidden mx-auto mt-4 lg:w-2/3 w-full">
    <div class="flex justify-between items-center">
        <p class="text-sm font-medium text-gray-600">
            Downloaded: <span id="downloaded">0 MB</span>
        </p>
        <p class="text-sm font-medium text-gray-600">
            Total size: <span id="total-size">0 MB</span>
        </p>
    </div>
    <div class="relative pt-1">
        <div class="flex mb-2 items-center justify-between">
            <div>
                <span
                    class="
                        text-xs
                        font-semibold
                        inline-block
                        py-1
                        px-2
                        uppercase
                        rounded-full
                        text-green-600
                        bg-green-200
                    "
                >
                    Progress
                </span>
            </div>
            <div class="text-right">
                <span
                    id="progress-label"
                    class="text-xs font-semibold inline-block text-gray-600"
                >
                    0%
                </span>
            </div>
        </div>
        <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-green-200">
            <div
                id="download-progress"
                class="bg-green-500"
                style="width: 0%"
            ></div>
        </div>
    </div>
</div>

<script>
    const downloadContainer = document.getElementById('download-container');

    socket.on('downloadProgress', (data) => {
        const progress = document.getElementById('download-progress');
        const label = document.getElementById('progress-label');
        const downloaded = document.getElementById('downloaded');
        const totalSize = document.getElementById('total-size');

        progress.style.width = `${data.progress}%`;
        label.textContent = `${data.progress}%`;
        downloaded.textContent = `${data.downloaded.toFixed(2)} MB`;
        totalSize.textContent = `${data.totalSize.toFixed(2)} MB`;

        downloadContainer.classList.remove('hidden');
    });

    socket.on('downloadFinished', () => {
        downloadContainer.classList.add('hidden');
    });
</script>
